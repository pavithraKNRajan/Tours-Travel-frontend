{"ast":null,"code":"import _slicedToArray from\"C:/Users/91868/Downloads/MernStack-Tour-Management-main/MernStack-Tour-Management-main/tour-management/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState}from'react';import'../styles/tour-details.css';import{Container,Row,Col,Form,ListGroup}from'reactstrap';import{useParams}from'react-router-dom';import tourDate from'../assets/data/tours';import calculateAvgRating from'../utils/avgRating';import avatar from'../assets/images/avatar.jpg';import Booking from'../components/Booking/Booking';import Newsletter from'../shared/Newsletter';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TourDetails=function TourDetails(){var _useParams=useParams(),id=_useParams.id;var reviewMsgRef=useRef('');var _useState=useState(null),_useState2=_slicedToArray(_useState,2),tourRating=_useState2[0],setTourRating=_useState2[1];var tour=tourDate.find(function(tour){return tour.id===id;});var photo=tour.photo,title=tour.title,desc=tour.desc,price=tour.price,address=tour.address,reviews=tour.reviews,city=tour.city,distance=tour.distance,maxGroupSize=tour.maxGroupSize;var _calculateAvgRating=calculateAvgRating(reviews),totalRating=_calculateAvgRating.totalRating,avgRating=_calculateAvgRating.avgRating;var options={day:'numeric',month:'long',year:'numeric'};var submitHandler=function submitHandler(e){e.preventDefault();var reviewText=reviewMsgRef.current.value;};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{lg:\"8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"tour__content\",children:[/*#__PURE__*/_jsx(\"img\",{src:photo,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"tour__info\",children:[/*#__PURE__*/_jsx(\"h2\",{children:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-5\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"tour__rating d-flex align-items-center gap-1\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\",style:{color:'var(--secondary-color)'}}),avgRating===0?null:avgRating,totalRating===0?\"Not rated\":/*#__PURE__*/_jsxs(\"span\",{children:[\"(\",reviews===null||reviews===void 0?void 0:reviews.length,\")\"]})]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-map-pin-user-fill\"}),address]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tour__extra-details\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-map-pin-2-line\"}),city]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-money-dollar-circle-line\"}),\"$\",price,\" /per person\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-map-pin-time-line\"}),distance,\" k/m\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-group-line\"}),maxGroupSize,\" people\"]})]}),/*#__PURE__*/_jsx(\"h5\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{children:desc})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tour__reviews mt-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Reviews (\",reviews===null||reviews===void 0?void 0:reviews.length,\" reviews)\"]}),/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-3 mb-4 rating__group\",children:[/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){return setTourRating(1);},children:[\"1 \",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]}),/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){return setTourRating(2);},children:[\"2 \",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]}),/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){return setTourRating(3);},children:[\"3 \",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]}),/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){return setTourRating(4);},children:[\"4 \",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]}),/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){return setTourRating(5);},children:[\"5 \",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"review__input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",ref:reviewMsgRef,placeholder:\"share your thoughts\",required:true}),/*#__PURE__*/_jsx(\"button\",{className:\"btn primary__btn text-white\",type:\"submit\",children:\"Submit\"})]})]}),/*#__PURE__*/_jsx(ListGroup,{className:\"user__reviews\",children:reviews===null||reviews===void 0?void 0:reviews.map(function(review){return/*#__PURE__*/_jsxs(\"div\",{className:\"review__item\",children:[/*#__PURE__*/_jsx(\"img\",{src:avatar,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Pavi\"}),/*#__PURE__*/_jsx(\"p\",{children:new Date('01-18-2023').toLocaleDateString('en-US',options)})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"d-flex align-itmes-center\",children:[\"5\",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]})]}),/*#__PURE__*/_jsx(\"h6\",{children:\"Amazing Tour\"})]})]});})})]})]})}),/*#__PURE__*/_jsx(Col,{lg:\"4\",children:/*#__PURE__*/_jsx(Booking,{tour:tour,avgRating:avgRating})})]})})}),/*#__PURE__*/_jsx(Newsletter,{})]});};export default TourDetails;","map":{"version":3,"names":["React","useRef","useState","Container","Row","Col","Form","ListGroup","useParams","tourDate","calculateAvgRating","avatar","Booking","Newsletter","TourDetails","id","reviewMsgRef","tourRating","setTourRating","tour","find","photo","title","desc","price","address","reviews","city","distance","maxGroupSize","totalRating","avgRating","options","day","month","year","submitHandler","e","preventDefault","reviewText","current","value","color","length","map","review","Date","toLocaleDateString"],"sources":["C:/Users/91868/Downloads/MernStack-Tour-Management-main/MernStack-Tour-Management-main/tour-management/frontend/src/pages/TourDetails.jsx"],"sourcesContent":["import React,{useRef, useState} from 'react';\r\nimport '../styles/tour-details.css';\r\nimport { Container,Row,Col,Form,ListGroup } from 'reactstrap';\r\nimport { useParams } from 'react-router-dom';\r\nimport tourDate from '../assets/data/tours';\r\nimport calculateAvgRating from '../utils/avgRating';\r\nimport avatar from'../assets/images/avatar.jpg';\r\nimport Booking from '../components/Booking/Booking';\r\nimport Newsletter from '../shared/Newsletter';\r\n\r\nconst TourDetails = () => {\r\n\r\n   const {id} = useParams()\r\n   const reviewMsgRef = useRef('')\r\n   const [tourRating, setTourRating]=useState(null)\r\n   const tour = tourDate.find(tour=> tour.id === id)\r\n   const {photo,title,desc,price,address, reviews,city,distance,maxGroupSize}=\r\n   tour;\r\n   const{totalRating,avgRating}=calculateAvgRating(reviews);\r\n   const options ={day:'numeric',month:'long',year :'numeric'};\r\n   const submitHandler = e=>{\r\n    e.preventDefault()\r\n    const reviewText = reviewMsgRef.current.value;\r\n    \r\n   }\r\n\r\n    return (<>\r\n    <section>\r\n      <Container>\r\n        <Row>\r\n          <Col lg='8'>\r\n          <div className='tour__content'>\r\n            <img src={photo} alt=''/>\r\n            <div className='tour__info'>\r\n              <h2>{title}</h2>\r\n              <div className='d-flex align-items-center gap-5'>\r\n\r\n              <span className='tour__rating d-flex align-items-center gap-1'>\r\n\r\n            <i \r\n            class=\"ri-star-s-fill\" style={{color:'var(--secondary-color)'}}\r\n            ></i> \r\n            \r\n            {avgRating ===0 ? null : avgRating}\r\n            {totalRating === 0?(\r\n                \"Not rated\"\r\n            ):(\r\n            <span>({reviews?.length})</span>)}\r\n            </span>\r\n            <span>\r\n              <i class='ri-map-pin-user-fill'></i>{address }\r\n            </span>\r\n            </div>\r\n            <div className='tour__extra-details'>\r\n              <span>\r\n                <i class='ri-map-pin-2-line'></i>{city}\r\n              </span>\r\n              <span>\r\n                <i class='ri-money-dollar-circle-line'></i>${price} /per person\r\n              </span>\r\n              <span>\r\n                <i class='ri-map-pin-time-line'></i>{distance} k/m\r\n              </span>\r\n              <span>\r\n                <i class='ri-group-line'></i>{maxGroupSize} people\r\n              </span>\r\n            </div>\r\n            <h5>Description</h5>\r\n            <p>{desc}</p>\r\n            </div>\r\n            {/*========tour reviews section=======\r\n             */}\r\n             \r\n            <div className='tour__reviews mt-4'>\r\n              <h4>Reviews ({reviews ?. length} reviews)</h4>\r\n              <Form onSubmit={submitHandler}>\r\n                <div className='d-flex align-items-center gap-3 mb-4 rating__group'>\r\n                  <span onClick={()=> setTourRating(1)}>\r\n                   1 <i class='ri-star-s-fill'></i>\r\n                  </span>\r\n                  <span onClick={()=> setTourRating(2)}>\r\n                   2 <i class='ri-star-s-fill'></i>\r\n                  </span>\r\n                  <span onClick={()=> setTourRating(3)}>\r\n                   3 <i class='ri-star-s-fill'></i>\r\n                  </span>\r\n                  <span onClick={()=> setTourRating(4)}>\r\n                   4 <i class='ri-star-s-fill'></i>\r\n                  </span>\r\n                  <span onClick={()=> setTourRating(5)}>\r\n                   5 <i class='ri-star-s-fill'></i>\r\n                  </span>\r\n\r\n                </div>\r\n\r\n                <div className='review__input'>\r\n                  <input\r\n                   type='text'\r\n                    ref={reviewMsgRef} \r\n                    placeholder='share your thoughts'\r\n                    required\r\n                    />\r\n                  <button className='btn primary__btn text-white' type='submit'>\r\n                    Submit\r\n                  </button>\r\n                </div>\r\n              </Form>\r\n              <ListGroup className='user__reviews'>\r\n                {\r\n\r\n                  reviews?.map(review=>(\r\n                    <div className='review__item'>\r\n                      <img src={avatar} alt=''/>\r\n                      <div className='w-100'>\r\n                      <div className='d-flex align-items-center justify-content-between'>\r\n                        <div>\r\n                          <h5>Pavi</h5>\r\n                          <p>{\r\n                            new Date('01-18-2023').toLocaleDateString(\r\n                              'en-US',options\r\n                            )}\r\n                        </p>\r\n                        </div>\r\n                        <span className='d-flex align-itmes-center'>\r\n                          5<i class='ri-star-s-fill'></i>\r\n                        </span>\r\n                        </div>\r\n                        <h6>Amazing Tour</h6>\r\n\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n              </ListGroup>\r\n            </div>\r\n            {/*================tour reviews section end============= */}\r\n            </div>\r\n          \r\n          </Col>\r\n          <Col lg='4'>\r\n          <Booking tour={tour} avgRating={avgRating}/>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </section>\r\n    <Newsletter/>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default TourDetails"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}